import{L as e,M as a,f as s,r as t,N as l,o as r,b as o,e as n,F as u,C as p,g as c,u as d,O as g,k as v}from"./vendor.79ee6203.js";import{c as i,d as m}from"./index.4c5a1ff6.js";import{i as w}from"./common.8fd1db50.js";const x={class:"xl:w-xl xl:mx-auto p-2 lg:p-4 grid sm:grid-cols-2 xl:grid-cols-3 gap-4"},y={setup(y){const f=e(),k=a();s((()=>{window.addEventListener("popstate",N),C()}));const b=t([]),q=t(0),j=t({page:f.query.page||0,size:9}),C=async(e=j.value)=>{const a=await i(e)||{};b.value=a.content||[],q.value=a.totalElements||0},E=t(Number(f.query.page)+1||1),L=e=>{j.value.page=e-1,k.push({query:j.value}),C(),window.scrollTo(0,0)},N=()=>{const e=Number(f.query.page)+1||1;E.value=e,j.value.page=e-1,C()};return l((()=>{window.removeEventListener("popstate",N)})),(e,a)=>(r(),o("div",null,[n("div",x,[(r(!0),o(u,null,p(b.value,(e=>(r(),c(m,{key:e._id,works:e},null,8,["works"])))),128))]),q.value?(r(),c(d(g),{key:0,currentPage:E.value,"onUpdate:currentPage":a[0]||(a[0]=e=>E.value=e),class:"text-center my-4",background:"",layout:"prev, pager, next",total:q.value,"pager-count":5,small:!d(w)(),onCurrentChange:L},null,8,["currentPage","total","small"])):v("",!0)]))}};export{y as default};
