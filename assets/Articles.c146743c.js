import{c as e,o as t,b as a,n as r,u as o,d as s,p as l,a as n,G as i,I as c,C as u,g as d,F as p,e as m,t as v,h as g,w as f,B as b,M as x,N as h,f as y,r as w,O as C,D as _,P as k,k as j}from"./vendor.67514f8f.js";import{_ as z,t as E,a as L,f as N}from"./index.0c5c255b.js";import{i as S}from"./common.8fd1db50.js";import{s as q}from"./scrollTo.ee32d387.js";var B=z({props:{size:{type:Number,default:24},mainColor:{type:String,default:"currentColor"},borderColor:{type:String,default:"transparent"},bgColor:{type:String,default:"transparent"},direction:{type:String,default:"left",validator:e=>["left","top","right","bottom"].includes(e)},lineWidth:{type:Number,default:2},pointer:{type:Boolean,default:!1}},setup(l){const n=l,i=e((()=>({"--chevronSize":`${n.size}px`,"--chevronColor":n.mainColor,"--chevronBorderColor":n.borderColor,"--chevronBgColor":n.bgColor,"--chevronLineWidth":`${n.lineWidth}px`})));return(e,n)=>(t(),a("div",{style:r(o(i)),class:s(["icon_chevron",l.direction,{pointer:l.pointer}])},null,6))}},[["__scopeId","data-v-8b453c74"]]);l("data-v-1b4bfc52");const M={class:"text-xs lg:text-sm shadow-xl bg-red-50 rounded p-4 overflow-hidden"},P={class:"text-right text-xs mb-2"},T={class:"text-xl mb-2 text-red-700 font-black"},$=["innerHTML"],I=b("READ MORE");n();var O=z({props:{article:{type:Object,default:()=>({})}},setup(e){const r=i();return(s,l)=>{const n=c,i=u("router-link");return t(),a("article",M,[o(r).state.loading?(t(),d(n,{key:0,rows:6,animated:""})):(t(),a(p,{key:1},[m("div",P,v(o(E)(e.article.createTime)),1),m("div",T,v(e.article.name),1),m("div",{class:"content overflow-hidden overflow-ellipsis line-clamp-6",innerHTML:e.article.content},null,8,$),g(i,{to:`/articles/${e.article._id}?title=${e.article.name}`,class:"flex items-center text-red-400 text-right underline my-1 ml-auto w-max group"},{default:f((()=>[I,g(B,{size:14,class:"ml-1 group-hover:animate-bounce",direction:"right"})])),_:1},8,["to"]),g(L,{tags:e.article.sorts},null,8,["tags"])],64))])}}},[["__scopeId","data-v-1b4bfc52"]]);const W={class:"xl:w-xl xl:mx-auto p-2 sm:p-4"},D={class:"grid lg:grid-cols-2 gap-8 mb-8"},H={setup(e){const r=x(),s=h();y((()=>{window.addEventListener("popstate",g),c()}));const l=w([]),n=w(0),i=w({page:r.query.page||0,size:10}),c=async(e=i.value)=>{const t=await N(e)||{};l.value=t.content||[],n.value=t.totalElements||0},u=w(Number(r.query.page)+1||1),v=e=>{i.value.page=e-1,s.push({query:i.value}),c(),q(0)},g=()=>{const e=Number(r.query.page)+1||1;u.value=e,i.value.page=e-1,c()};return C((()=>{window.removeEventListener("popstate",g)})),(e,r)=>(t(),a("main",W,[m("section",D,[(t(!0),a(p,null,_(l.value,(e=>(t(),d(O,{article:e,key:e._id},null,8,["article"])))),128))]),n.value?(t(),d(o(k),{key:0,currentPage:u.value,"onUpdate:currentPage":r[0]||(r[0]=e=>u.value=e),class:"text-center",background:"",layout:"prev, pager, next",total:n.value,"pager-count":5,small:!o(S)(),onCurrentChange:v},null,8,["currentPage","total","small"])):j("",!0)]))}};export{H as default};
