import{c as e,o as t,b as a,n as r,u as l,d as o,p as s,a as n,B as i,e as c,t as u,h as d,w as p,A as m,L as v,M as g,f,r as x,N as b,F as h,C as y,g as C,O as w,k as _}from"./vendor.79ee6203.js";import{_ as k,t as L,a as j,f as z}from"./index.4c5a1ff6.js";import{i as E}from"./common.8fd1db50.js";import{s as N}from"./scrollTo.ce5980bc.js";var S=k({props:{size:{type:Number,default:24},mainColor:{type:String,default:"currentColor"},borderColor:{type:String,default:"transparent"},bgColor:{type:String,default:"transparent"},direction:{type:String,default:"left",validator:e=>["left","top","right","bottom"].includes(e)},lineWidth:{type:Number,default:2},pointer:{type:Boolean,default:!1}},setup(s){const n=s,i=e((()=>({"--chevronSize":`${n.size}px`,"--chevronColor":n.mainColor,"--chevronBorderColor":n.borderColor,"--chevronBgColor":n.bgColor,"--chevronLineWidth":`${n.lineWidth}px`})));return(e,n)=>(t(),a("div",{style:r(l(i)),class:o(["icon_chevron",s.direction,{pointer:s.pointer}])},null,6))}},[["__scopeId","data-v-8b453c74"]]);s("data-v-4b48f4ee");const q={class:"text-xs lg:text-sm shadow-xl bg-red-50 rounded p-4 overflow-hidden"},B={class:"text-right text-xs mb-2"},M={class:"text-xl mb-2 text-red-700 font-black"},T=["innerHTML"],$=m("READ MORE");n();var O=k({props:{article:{type:Object,default:()=>({})}},setup:e=>(r,o)=>{const s=i("router-link");return t(),a("article",q,[c("div",B,u(l(L)(e.article.createTime)),1),c("div",M,u(e.article.name),1),c("div",{class:"content overflow-hidden overflow-ellipsis line-clamp-6",innerHTML:e.article.content},null,8,T),d(s,{to:`/articles/${e.article._id}?title=${e.article.name}`,class:"flex items-center text-red-400 text-right underline my-1 ml-auto w-max group"},{default:p((()=>[$,d(S,{size:14,class:"ml-1 group-hover:animate-bounce",direction:"right"})])),_:1},8,["to"]),d(j,{tags:e.article.sorts},null,8,["tags"])])}},[["__scopeId","data-v-4b48f4ee"]]);const P={class:"xl:w-xl xl:mx-auto p-2 sm:p-4"},W={class:"grid lg:grid-cols-2 gap-8 mb-8"},A={setup(e){const r=v(),o=g();f((()=>{window.addEventListener("popstate",m),u()}));const s=x([]),n=x(0),i=x({page:r.query.page||0,size:10}),u=async(e=i.value)=>{const t=await z(e)||{};s.value=t.content||[],n.value=t.totalElements||0},d=x(Number(r.query.page)+1||1),p=e=>{i.value.page=e-1,o.push({query:i.value}),u(),N(0)},m=()=>{const e=Number(r.query.page)+1||1;d.value=e,i.value.page=e-1,u()};return b((()=>{window.removeEventListener("popstate",m)})),(e,r)=>(t(),a("main",P,[c("section",W,[(t(!0),a(h,null,y(s.value,(e=>(t(),C(O,{article:e,key:e._id},null,8,["article"])))),128))]),n.value?(t(),C(l(w),{key:0,currentPage:d.value,"onUpdate:currentPage":r[0]||(r[0]=e=>d.value=e),class:"text-center",background:"",layout:"prev, pager, next",total:n.value,"pager-count":5,small:!l(E)(),onCurrentChange:p},null,8,["currentPage","total","small"])):_("",!0)]))}};export{A as default};
