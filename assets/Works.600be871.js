import{M as e,N as a,f as s,r as t,O as l,o as r,b as o,e as n,F as u,D as p,g as c,u as d,P as g,k as v}from"./vendor.67514f8f.js";import{c as i,d as m}from"./index.0c5c255b.js";import{i as w}from"./common.8fd1db50.js";const x={class:"xl:w-xl xl:mx-auto p-2 lg:p-4 grid sm:grid-cols-2 xl:grid-cols-3 gap-4"},y={setup(y){const f=e(),b=a();s((()=>{window.addEventListener("popstate",h),j()}));const k=t([]),q=t(0),P=t({page:f.query.page||0,size:9}),j=async(e=P.value)=>{const a=await i(e)||{};k.value=a.content||[],q.value=a.totalElements||0},E=t(Number(f.query.page)+1||1),N=e=>{P.value.page=e-1,b.push({query:P.value}),j(),window.scrollTo(0,0)},h=()=>{const e=Number(f.query.page)+1||1;E.value=e,P.value.page=e-1,j()};return l((()=>{window.removeEventListener("popstate",h)})),(e,a)=>(r(),o("div",null,[n("div",x,[(r(!0),o(u,null,p(k.value,(e=>(r(),c(m,{key:e._id,works:e},null,8,["works"])))),128))]),q.value?(r(),c(d(g),{key:0,currentPage:E.value,"onUpdate:currentPage":a[0]||(a[0]=e=>E.value=e),class:"text-center my-4",background:"",layout:"prev, pager, next",total:q.value,"pager-count":5,small:!d(w)(),onCurrentChange:N},null,8,["currentPage","total","small"])):v("",!0)]))}};export{y as default};
